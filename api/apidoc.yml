{
   "openapi":"3.0.0",
   "info":{
      "title":"SIPCE API",
      "description":"API para el Sistema Informático para el control y seguimiento del historial conductual y expediente psicológico de los estudiantes del colegio Liceo Salvadoreño",
      "version":"1.0",
      "contact":{

      }
   },
   "tags":[

   ],
   "servers":[

   ],
   "components":{
      "securitySchemes":{
         "bearer":{
            "scheme":"bearer",
            "bearerFormat":"JWT",
            "type":"http"
         }
      },
      "schemas":{
         "LoginDto":{
            "type":"object",
            "properties":{
               "username":{
                  "type":"string"
               },
               "password":{
                  "type":"string"
               }
            },
            "required":[
               "username",
               "password"
            ]
         },
         "Token":{
            "type":"object",
            "properties":{
               "accessToken":{
                  "type":"string"
               },
               "refreshToken":{
                  "type":"string"
               },
               "exp":{
                  "type":"number"
               }
            },
            "required":[
               "accessToken",
               "refreshToken"
            ]
         },
         "TokenResponse":{
            "type":"object",
            "properties":{
               "data":{
                  "$ref":"#/components/schemas/Token"
               }
            },
            "required":[
               "data"
            ]
         },
         "RefreshTokenDto":{
            "type":"object",
            "properties":{
               "refreshToken":{
                  "type":"string"
               }
            },
            "required":[
               "refreshToken"
            ]
         },
         "ForgotPswDto":{
            "type":"object",
            "properties":{
               "email":{
                  "type":"string"
               }
            },
            "required":[
               "email"
            ]
         },
         "Politic":{
            "type":"object",
            "properties":{
               "id":{
                  "type":"number"
               },
               "minLength":{
                  "type":"number"
               },
               "capitalLetter":{
                  "type":"boolean"
               },
               "lowerCase":{
                  "type":"boolean"
               },
               "specialChart":{
                  "type":"boolean"
               },
               "numericChart":{
                  "type":"boolean"
               },
               "typeSpecial":{
                  "type":"string"
               }
            },
            "required":[
               "id",
               "minLength",
               "capitalLetter",
               "lowerCase",
               "specialChart",
               "numericChart",
               "typeSpecial"
            ]
         },
         "PoliticResponse":{
            "type":"object",
            "properties":{
               "data":{
                  "$ref":"#/components/schemas/Politic"
               }
            },
            "required":[
               "data"
            ]
         },
         "PolitcDto":{
            "type":"object",
            "properties":{
               "minLength":{
                  "type":"number"
               },
               "capitalLetter":{
                  "type":"object"
               },
               "lowerCase":{
                  "type":"object"
               },
               "specialChart":{
                  "type":"object"
               },
               "numericChart":{
                  "type":"object"
               },
               "typeSpecial":{
                  "type":"string"
               }
            }
         }
      }
   },
   "paths":{
      "/api/v1/auth/login":{
         "post":{
            "operationId":"AuthController_login",
            "summary":"Inicia la sesión de un usuario",
            "description":"Use este endpoint para iniciar la sesión de un usuario y obtener un par de tokens",
            "parameters":[

            ],
            "requestBody":{
               "required":true,
               "content":{
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/LoginDto"
                     }
                  }
               }
            },
            "responses":{
               "201":{
                  "description":"",
                  "content":{
                     "application/json":{
                        "schema":{
                           "$ref":"#/components/schemas/TokenResponse"
                        }
                     }
                  }
               }
            },
            "tags":[
               "Authentication Endpoints"
            ]
         }
      },
      "/api/v1/auth/logout":{
         "delete":{
            "operationId":"AuthController_logout",
            "summary":"Cierra la sesión de un usuario",
            "description":"Use este endpoint para cerrar la sesión de un usuario y eliminar los tokens de la sesión activa del usuario en la Base de Datos",
            "parameters":[

            ],
            "responses":{
               "204":{
                  "description":"",
                  "content":{
                     "application/json":{
                        "schema":{
                           "type":"object"
                        }
                     }
                  }
               }
            },
            "tags":[
               "Authentication Endpoints"
            ],
            "security":[
               {
                  "bearer":[

                  ]
               }
            ]
         }
      },
      "/api/v1/auth/refresh-token":{
         "post":{
            "operationId":"AuthController_refreshToken",
            "summary":"Refresca la sesión de un usuario",
            "description":"Use este endpoint para refrescar la sesión de un usuario cuando su access token haya expirado",
            "parameters":[

            ],
            "requestBody":{
               "required":true,
               "content":{
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/RefreshTokenDto"
                     }
                  }
               }
            },
            "responses":{
               "200":{
                  "description":"",
                  "content":{
                     "application/json":{
                        "schema":{
                           "$ref":"#/components/schemas/TokenResponse"
                        }
                     }
                  }
               }
            },
            "tags":[
               "Authentication Endpoints"
            ]
         }
      },
      "/api/v1/auth/forgot-password":{
         "post":{
            "operationId":"AuthController_forgotPsw",
            "summary":"Solicitud de recuperación de contraseña",
            "description":"Use este endpoint para solicitar la recuperación de la contraseña de un usuario",
            "parameters":[

            ],
            "requestBody":{
               "required":true,
               "content":{
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/ForgotPswDto"
                     }
                  }
               }
            },
            "responses":{
               "204":{
                  "description":"",
                  "content":{
                     "application/json":{
                        "schema":{
                           "type":"object"
                        }
                     }
                  }
               }
            },
            "tags":[
               "Authentication Endpoints"
            ]
         }
      },
      "/api/v1/auth/politics":{
         "get":{
            "operationId":"AuthController_getPolitics",
            "summary":"Obtener políticas de seguridad de contraseñas",
            "description":"Use este endpoint para obtener las políticas de seguridad de contraseñas",
            "parameters":[

            ],
            "responses":{
               "200":{
                  "description":"",
                  "content":{
                     "application/json":{
                        "schema":{
                           "$ref":"#/components/schemas/PoliticResponse"
                        }
                     }
                  }
               }
            },
            "tags":[
               "Authentication Endpoints"
            ],
            "security":[
               {
                  "bearer":[

                  ]
               }
            ]
         }
      },
      "/api/v1/auth/politics/{politicId}":{
         "put":{
            "operationId":"AuthController_updatePolitic",
            "summary":"Actualizar políticas de seguridad de contraseñas",
            "description":"Use este endpoint para actualizar políticas de seguridad de contraseñas",
            "parameters":[
               {
                  "name":"politicId",
                  "required":true,
                  "in":"path",
                  "schema":{
                     "type":"number"
                  }
               }
            ],
            "requestBody":{
               "required":true,
               "content":{
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/PolitcDto"
                     }
                  }
               }
            },
            "responses":{
               "200":{
                  "description":"",
                  "content":{
                     "application/json":{
                        "schema":{
                           "$ref":"#/components/schemas/PoliticResponse"
                        }
                     }
                  }
               }
            },
            "tags":[
               "Authentication Endpoints"
            ],
            "security":[
               {
                  "bearer":[

                  ]
               }
            ]
         }
      }
   }
}